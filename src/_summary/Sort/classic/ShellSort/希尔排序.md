# 希尔排序
---
希尔排序, 也称递减增量排序算法, 是插入排序的一种更高效的改进版本. 但希尔排序是非稳定排序算法.

希尔排序是基于插入排序的以下两点性质而提出改进方法的:

- 插入排序在对几乎已经排好序的数据操作时,效率高,即可以达到线性排序的效率;

- 但插入排序一般来说是低效的,因为插入排序每次只能将数据移动一位.

希尔排序的基本思想是: 先将整个待排序的记录序列分割成为若干子序列分别进行插入排序, 待整个序列中的记录"基本有序"时, 再对全体记录进行依次直接插入排序.

## 1. 算法步骤

1. 选择一个增量序列 t1, t2, ... , tk, 其中 ti > tj , tk = 1;

2. 按增量序列个数k, 对序列进行 k 趟排序;

3. 每趟排序, 根据对应的增量 ti, 将待排序列分割成若干长度为 m 的子序列, 分别对各个子表进行直接插入排序. 仅增量因子为1时,整个序列作为一个表来处理,表长度即为整个序列的长度.

## 2. 时间复杂度

希尔排序的执行时间依赖于增量序列的设定.(最后一个增量必须为1)

- 平均时间复杂度 : $O(NlogN)$  (百度词条: $O(N^{3/2})$)($O(N^{1.3})$ -> $O(N^{2})$之间)

- 最好情况 : $O(N(logN)^2)$

- 最坏情况 : 未知...

## 3. 空间复杂度

- 空间复杂度 :　$O(1)$

- In-place

## 4. 稳定性

- 不稳定

## 5*. 希尔排序优于插入排序的原因

1. 当文件初态基本有序时,直接插入排序所需的比较和移动次数较少.

2. 在希尔排序开始时增量(组数)较大, 分组较多, 每组的记录数目少, 故个组内直接插入较快,后再增量 ti 逐渐缩小,分组数逐渐减少,而各组的记录数目逐渐增多,但由于已经按ti-1作为距离排过序,使得文件较接近于有序状态,所以新的一趟排序过程也较快.