# 5642-大餐计数

## [题目](https://leetcode-cn.com/problems/count-good-meals/)(难度中等)

大餐 是指 恰好包含两道不同餐品 的一餐，其美味程度之和等于 2 的幂。

你可以搭配 任意 两道餐品做一顿大餐。

给你一个整数数组 deliciousness ，其中 deliciousness[i] 是第 i​​​​​​​​​​​​​​ 道餐品的美味程度，返回你可以用数组中的餐品做出的不同 大餐 的数量。结果需要对 109 + 7 取余。

注意，只要餐品下标不同，就可以认为是不同的餐品，即便它们的美味程度相同。

~~~markdown
示例 1：

输入：deliciousness = [1,3,5,7,9]
输出：4
解释：大餐的美味程度组合为 (1,3) 、(1,7) 、(3,5) 和 (7,9) 。
它们各自的美味程度之和分别为 4 、8 、8 和 16 ，都是 2 的幂。
示例 2：

输入：deliciousness = [1,1,1,3,3,3,7]
输出：15
解释：大餐的美味程度组合为 3 种 (1,1) ，9 种 (1,3) ，和 3 种 (1,7) 。
~~~

**提示:**
- 1 <= deliciousness.length <= 105
- 0 <= deliciousness[i] <= 220

### 算法知识点
1. 哈希表
此题,我们需要找到所有两个数的和等于2的整数幂的这样的数的总对儿数, 类似于两数之和的解法. 因此,我们必须先确定此题中的target是什么.

- target
在此题的提示中, 我们知道 $0 /le deliciousness[i] \le 2^{20}$, 因此,我们可以确定 target 的取值范围是 $[2^{0},2^{21}]$ ,一共22个数. 因此,我们只需要在内层循环遍历这22个 `targetNum` 即可.

- 哈希表
我们利用哈希表存储每个数字,及其它出现的次数.

- 类似与两数之和的两种方法
    - 第一种方法 : 我们首先将哈希表建立好,即将输入数组的每个数字及其出现的次数都存起来. 然后依次寻找所有可能的情况, 注意每个数字只能使用一次(在每个结果中,要就是两个数,不能都是同一个数字). 只要存在的问题是,每种情况都出现了两遍,因此在最后输出结果的时候,要除以2

    - 第二种方法 : 一边遍历,一边更新哈希表. 根据第一种方法我们可以知道, 每对数字都会前后遍历两次, 因此我们在第一次遍历到的时候更新哈希表, 第二次正好计算结果. 这样就不需要在另外遍历来更新哈希表了. 相当于我们每次遍历数字, 在寻找另一个数字的时候,都只寻找这个数字之前的数字有没有符合要求的. 这样也正好不会漏掉结果也不会重复计算.

- 溢出问题
注意存储结果的时候, 需要用`long`来进行存储,不然会出现溢出的问题!!

### 编程知识点
1. map的方法

    ~~~java
    map.containsKey();
    map.getOrDefault();
    map.put();
    ~~~